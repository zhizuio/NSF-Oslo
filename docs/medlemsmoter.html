<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Temakveld og Medlemsm√∏ter</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-sm navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./fig/logo_NSF_Oslo2.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./home.html" rel="" target="">
 <span class="menu-text">Hovedside</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./styret.html" rel="" target="">
 <span class="menu-text">Styret</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./medlemsmoter.html" rel="" target="" aria-current="page">
 <span class="menu-text">Temakveld og Medlemsm√∏ter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./vedtekter.html" rel="" target="">
 <span class="menu-text">Vedtekter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nsf.html" rel="" target="">
 <span class="menu-text">Norsk statistisk forening</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nsf2024.html" rel="" target="">
 <span class="menu-text">NSF2024 Konferanse</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./home.html" rel="" target="">
 <span class="menu-text">Norsk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./home_en.html" rel="" target="">
 <span class="menu-text">English</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section">üéâ 22.05.2025</a></li>
  <li><a href="#xx.xx.2025-i-√•s" id="toc-xx.xx.2025-i-√•s" class="nav-link" data-scroll-target="#xx.xx.2025-i-√•s">üéâ xx.xx.2025 i √Ös</a></li>
  <li><a href="#xx.xx.2024" id="toc-xx.xx.2024" class="nav-link" data-scroll-target="#xx.xx.2024">üéâ xx.xx.2024</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">üéâ 28.11.2023</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">üéâ 09.05.2023</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">üéâ 30.11.2022</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Temakveld og Medlemsm√∏ter</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><br></p>
<p style="font-family: times, serif; font-size:18pt; font-style:italic">
<strong>Temakveld og Medlemsm√∏ter i den st√∏rre Oslo-regionen</strong>
</p>
<section id="section" class="level3">
<h3 class="anchored" data-anchor-id="section">üéâ 22.05.2025</h3>
<p></p>
<p>‚Äú<em>Statistical modelling using gradient boosting algorithms: applications across diverse fields</em>‚Äù with <span style="color:red">Riccardo De Bin</span></p>
<p><u>Program</u>:</p>
<p>17.00 - 17.20: Pizza, sushi and beverages</p>
<p>17.20 - 17.30: Annual meeting</p>
<p>17.30 - 18.30: Presentation by Riccardo De Bin</p>
<p><strong>Place</strong>: Norwegian Computing Center (NR), (<a href="https://www.google.com/maps/place/data=!4m2!3m1!1s0x46416de8aff21e49:0x79354ac1e7ca82b3?sa=X&amp;ved=1t:8290&amp;ictx=111">Alfa-Omega room, Gaustadall√©en 23A, 0373 Oslo</a>)</p>
<p><strong>Speaker</strong>: Riccardo De Bin, UiO</p>
<p><strong>Title</strong>: <span style="color:red"> Statistical modelling using gradient boosting algorithms: applications across diverse fields </span></p>
<p><strong>Abstract</strong>:</p>
<p>In this talk we will see how the gradient boosting approach can be used to fit statistical models in various contexts: in the analysis of omics data through First Hitting Time models; in the prediction of the remaining useful life of lithium-ion batteries; in the assessment of airport runway conditions for safe landings; and in the analysis of the properties of transition metal complexes for catalysis. Statistical issues addressed in this talk include the extensions of classical survival models to the high dimensional frameworks, where the number of variables is (much) larger than the number of observations; the handling of informative censoring in survival models; and the exploration of graph structures. </p>
<p><br></p>
</section>
<section id="xx.xx.2025-i-√•s" class="level3">
<h3 class="anchored" data-anchor-id="xx.xx.2025-i-√•s">üéâ xx.xx.2025 i √Ös</h3>
<p>‚Ä¶</p>
<p><br></p>
</section>
<section id="xx.xx.2024" class="level3">
<h3 class="anchored" data-anchor-id="xx.xx.2024">üéâ xx.xx.2024</h3>
<p>‚Ä¶</p>
<p><br></p>
</section>
<section id="section-1" class="level3">
<h3 class="anchored" data-anchor-id="section-1">üéâ 28.11.2023</h3>
<p></p>
<p>‚Äú<em>Modellering av en forskers publiserings- og siteringsrate</em>‚Äù med <span style="color:red">Magne Aldrin</span></p>
<p><u>Program</u>:</p>
<p>17.00 - 17.30: Pizza, sushi og drikke</p>
<p>17.30 - 18.30: Presentasjon ved Magne Aldrin</p>
<p><strong>Hvor</strong>: Universitetet i Oslo, (Abels utsikt, 12. etasje, Niels Henrik Abels hus - Universitetet I Oslo, Moltke Moes vei 35) og Zoom</p>
<p><strong>Foredragsholder</strong>: Magne Aldrin, Forskningsleder, NR</p>
<p><strong>Tittel</strong>: <span style="color:red"> Modellering av en forskers publiserings- og siteringsrate </span></p>
<p><strong>Abstrakt</strong>:</p>
<p>Blir forskere mer produktive n√•r de blir eldre? Er forskeren som tok doktorgrad tidlig i sin karriere mer produktiv enn de som gjorde det seinere? Vi, dvs. min kollega Olav Nikolai Breivik og jeg, unders√∏ker dette ved √• modellere her hvordan publiseringsraten (antall artikler o.l. per √•r) og siteringsraten til en gitt forsker forskjellige over tid som en funksjon av forklaringsvariabler knyttet til forskeren. Av s√¶rskilt interesse er om en forsker som f√•r tildelt et s√•kalt FRIPRO-prosjektet fra Norges forskningsr√•d (NFR) f√•r √∏kt sin vitenskapelige produksjon sammenlignet med en sammenlignbar forsker som ikke f√•r et slikt prosjekt. For √• unders√∏ke dette har vi et brukt et datasett med 2500 forskere som til sammen sendte inn 5000 s√∏knader om FRIPRO-prosjekter i perioden 2004-2012, med informasjon om deres publiseringshistorie f√∏r og etter s√∏knaden, til sammen 70000 publikasjoner. Vi modellerer √•rlig publiserings- og siteringsrate i etterkant av s√∏knaden som funksjon av blant annet om forskeren fikk innvilget s√∏knaden eller ikke, tid etter s√∏knaden, alder, kj√∏nn og tidligere publikasjonshistorie. Vi bruker generaliserte additive modeller (GAM). Modellene er programmert i programmeringssystemet TMB, som gir mulighet for fleksibel modellering og rask optimering basert p√• automatisk avledning. Dette systemet finnes n√• i en rein R-versjon, RTMB, og jeg vil gi en kort innf√∏ring til det som en liten smakebit til TMB-kurset som Olav Nikolai Breivik vil holde i forkant av neste √•rs norske statistikkm√∏te i T√∏nsberg. Arbeidet som presenteres har blitt utf√∏rt p√• oppdrag fra Norges forskningsr√•d. </p>
<p><br></p>
</section>
<section id="section-2" class="level3">
<h3 class="anchored" data-anchor-id="section-2">üéâ 09.05.2023</h3>
<p></p>
<p>‚Äú<em>Bayes, Confidence Distributions, and US Pre-War Economy</em>‚Äù with <span style="color:red">Nils Lid Hjort</span></p>
<p><u>Program</u>:</p>
<p>17.00 - 17.30: Pizza, sushi and beverages</p>
<p>17.30 - 18.30: Presentation by Nils Lid Hjort</p>
<p><strong>Place</strong>: Abels utsikt (12th floor, Niels Henrik Abels hus - Universitetet i Oslo) and Zoom</p>
<p><strong>Speaker</strong>: Nils Lid Hjort, UiO</p>
<p><strong>Title</strong>: <span style="color:red"> Bayes, Confidence Distributions, and US Pre-War Economy </span></p>
<p><strong>Abstract</strong>:</p>
<p>Confidence distributions are frequentist analogues of the Bayesian posterior distributions, but without priors. Often these two approaches lead to similar results, regarding post-data intervals for primary parameters, etc. Situations with boundary parameters are different and more complicated, however. If your focus parameter is known to be nonnegative, a common Bayesian solution is to work with a flat prior from zero to infinity. I show that this might lead to very different and ostensibly wrong results, compared to confidence distributions.</p>
<p>When Christopher Sims won the Sveriges Riksbank Prize in Economic Sciences im Memory of Alfred Nobel for 2011 (the so-called Nobel Prize in Economics), he chose for his Stockholm prize lecture to showcase how Bayesian modelling with MCMC worked for the analysis of a certain dataset on pre-war US macroeconomics (involving consumption, investment, government spending, 1929 to 1940). I illustrate the apparatus of confidence distributions with t-bootstrapping to analyse the same data and the same vector autoregressive time series model, but reaching rather different results when assessing the main parameters.</p>
<p>The essence of this story is contained in my book Confidence, Likelihood, Probability, with Tore Schweder, but I have more material and a different presentation of the main reasons for the differences with the Bayesian setup. </p>
<p><br></p>
</section>
<section id="section-3" class="level3">
<h3 class="anchored" data-anchor-id="section-3">üéâ 30.11.2022</h3>
<p></p>
<p>‚Äú<em>The Brier score for evaluating time-to-event predictions for administratively censored data: problems and a solution</em>‚Äù with <span style="color:red">√òrnulf Borgan</span></p>
<p><u>Program</u>:</p>
<p>17.00 - 17.30: Pizza, sushi and beverages</p>
<p>17.30 - 18.30: Presentation by √òrnulf Borgan</p>
<p><strong>Place</strong>: Abels utsikt (12th floor, Niels Henrik Abels hus - Universitetet i Oslo) and Zoom</p>
<p><strong>Speaker</strong>: √òrnulf Borgan, UiO</p>
<p><strong>Title</strong>: <span style="color:red"> The Brier score for evaluating time-to-event predictions for administratively censored data: problems and a solution </span></p>
<p><strong>Abstract</strong>:</p>
<p>The Brier score is commonly used for evaluating probability predictions. For time-to-event predictions based on right-censored observations of the event times, the score can be weighted by the inverse probability of censoring (IPCW) to retain its original interpretation. In the talk I will consider situations where individuals are recruited to a study population at different calendar times, and then followed up to the occurrence of an event of interest or to the closure of the study at a given date. For such administratively censored data, there may be problems with the IPCW weighting scheme when the distribution of the covariates varies with calendar time. I will discuss the reason for these problems, and also suggest an alternative version of the Brier score that does not suffer from the same problems. The talk is based on a joint paper with H√•vard Kvamme that will soon appear in the Journal of Machine Learning Research. </p>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>